@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import viewmodels.ImportVatViewModel
@import views.html.components._
@import views.html.Layout
@import models.FileRole.C79Certificate
@import models.FileFormat.Pdf
@import models.FileFormat.Csv
@import uk.gov.hmrc.hmrcfrontend.views.html.components.HmrcNewTabLink
@import uk.gov.hmrc.hmrcfrontend.views.Aliases.NewTabLink
@import utils.Utils.emptyString

@this(
    layout: Layout,
    hmrcNewTabLink: HmrcNewTabLink,
    h1: components.h1,
    h2: components.h2,
    link: components.link,
    p: components.p,
    missing_guidance: components.missing_documents_guidance
)

@(
    model: ImportVatViewModel,
    serviceUnavailableUrl: Option[String] = None
)(
    implicit request: Request[_],
    messages: Messages,
    appConfig: config.AppConfig
)

@layout(pageTitle =  model.title, backLinkUrl = model.backLink) {

    @model.heading

    @model.certificateAvailableGuidance

    @model.last6MonthsH2Heading

    @model.notificationPanel.map(identity)

    @model.currentStatements.map { statementRow =>
        @statementRow.eoriHeading.map(identity)
        @statementRow.dlComponentRow
    }

    @model.currentStatementsNotAvailableGuidance.map(identity)


<div id="missing-certificates-guidance" class="govuk-!-padding-top-2">
    @defining(model.certsOlderThan6MonthsGuidance) { certsOlderThan6Months =>
        @certsOlderThan6Months.h2Heading
        @certsOlderThan6Months.link.map(identity)
        @certsOlderThan6Months.paragraph.map(identity)
    }

    @defining(model.chiefDeclarationGuidance) { chiefDeclaration =>
        @chiefDeclaration.h2Heading
        @chiefDeclaration.link.map(identity)
        @chiefDeclaration.paragraph.map(identity)
    }
</div>

<div id="vat.support.heading" class="govuk-!-padding-top-2">
    @defining(model.helpAndSupportGuidance) { helpAndSupport =>
        @helpAndSupport.h2Heading
        @helpAndSupport.link.map(identity)
        @helpAndSupport.paragraph.map(identity)
    }
</div>

}
